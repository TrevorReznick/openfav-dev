---
import Layout from '~/layouts/Layout.astro'
import MyForm from '~/components/sub-pages/FormAuth.astro'

import { previousPath, currentPath } from '~/store'

const to = currentPath.get()
const from = previousPath.get()
let title = ''
let action = '/api/v1/auth'
let text = ''
let doForm = ''


if(from === '/login') {  
  title = 'Log in'
  action = `${action}/signin`
  text = 'Sign in to access your account'
  doForm = 'login'
} else if  (from === '/register') {  
  title = 'Sign up'
  action = `${action}/register`
  text = 'Register a new account'
  doForm = 'register'
}
---

<Layout title = 'Auth Page' />
<Fragment>
    <MyForm 
        inputs = {[
        {
            type: 'email',
            name: 'email',
            label: 'Email',
        },
        {
            type: 'password',
            name: 'password',
            label: 'Password',
        },
        ]}
        action = {action}
        title = {title}
        text = {text}
        doForm = {doForm}
    />
</Fragment>
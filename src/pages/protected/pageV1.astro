---
import Layout from "~/layouts/Layout.astro";
import IsComponent from "~/components/main-sites/MyComponentV1.astro";
import { getCategories } from "~/scripts/requests";
import { email, user_name, currentPath } from "~/store";
import { numElements } from "~/scripts/oopps";

const _email = email.get();
const _user_name = user_name.get();
const path = currentPath.get();

console.log("path", path);

/* fetch db */
const categories = await getCategories();

/* map results */
const areas = [...new Set(categories.map((category) => category.area))];

/* num elements */

const numAreas = numElements(areas);

console.log("numero aree", numAreas);
---

<Layout title="Login">
  <IsComponent
    email={_email}
    user_name={_user_name}
    tagline="Test Page"
    title="Dev Page"
  />
</Layout>

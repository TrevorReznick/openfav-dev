---
import * as api from '~/api/apiClient'
import TestApisV2 from '~/pages/dev/test-apisV2.astro'
import '~/assets/css/SiteCard.css'

import { Globe, Clock, MoreVertical } from 'lucide-react'
import { CARD } from '~/config/cardCostantsNew'
import Card1 from '~/components/main-sites/sub/old/card1.astro'
import Card2 from '~/components/main-sites/sub/card2.astro'
import CardsTags from '~/components/main-sites/sub/cardsTags.astro'

const deleteSite = api.deleteEvent

interface Props {
    my_test: string,
    main: any
}

const {my_test, main, ...props} = Astro.props

const sites = Array.isArray(main?.data) ? main.data : []

console.log('received data', main.data)
console.log('my name', TestApisV2)

---
{sites.length > 0 ? (
    // Card Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
        {sites.map((site) => (
            <div class="card">
                <div
                    aria-label="Abstract gradient background"
                    role="img"
                    class="card-image"
                ></div>
                <div class="card-content">
                    <p class="card-title">{site.title}</p>
                    <p class="card-description">{site.description}</p>
                    <div class="card-tags">
                        <span class="card-tag">Design</span>
                        <span class="card-tag">CSS</span>
                        <span class="card-tag">HTML</span>
                    </div>
                    <div class="card-footer">
                        <div class="card-stats">
                            <span class="card-stat">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20"
                                    class="card-stat-icon"
                                >
                                    <path
                                    d="M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.78 7.77L10 18.78l8.39-8.4a5.5 5.5 0 0 0-7.78-7.77l-.61.61z"
                                    ></path>
                                </svg>
                                42
                            </span>
                            <span class="card-stat">
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    viewBox="0 0 20 20"
                                    class="card-stat-icon"
                                >
                                    <path
                                    d="M17 11v3l-3-3H8a2 2 0 0 1-2-2V2c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-1zm-3 2v2a2 2 0 0 1-2 2H6l-3 3v-3H2a2 2 0 0 1-2-2V8c0-1.1.9-2 2-2h2v3a4 4 0 0 0 4 4h6z"
                                    ></path>
                                </svg>
                                18
                            </span>
                        </div>
                    <a class="card-button" href="#">Explore</a>
                    </div>
                </div>
            </div>
        ))}
    </div>
) : (
    <p class="text-center text-gray-500">No sites available.</p>
)}
<!--
<Card1 />
<Card2 />
<CardsTags />
<div class="text-white">{my_test}</div>
<pre class="text-white p-2 rounded mb-4">
    {JSON.stringify(main.data, null, 2)}
</pre>
 -->
 

